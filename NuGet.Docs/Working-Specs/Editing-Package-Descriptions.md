# Enabling Editing Package Descriptions #

Foreword: Today, NuGet packages cannot be edited or replaced once published on nuget.org. However we know that this policy doesn’t satisfy package authors who wish to keep their package description up to date, fix typos, add new package logos, and so on. Therefore we’re trying to relax the policy a little and allow authors to make certain changes to their package description. 

(Most of the public discussion around this feature so far has occurred here:

[https://github.com/NuGet/NuGetGallery/issues/807](https://github.com/NuGet/NuGetGallery/issues/807)

This document is a design for the feature, and acts as the latest response to that discussion of how we can implement description-only editing of packages that have been uploaded to nuget.org.)

**What will be editable?**

A package’s

 - Title
 - Description
 - Summary
 - Authors
 - Copyright 
 - Release Notes
 - Project URL 
 - Icon URL
 - Tags
 - ‘Listed’ or ‘Unlisted’ state

**What will not be editable?**

A package’s

 - ID
 - Version
 - License URL
 - ‘Require License Acceptance’ flag
 - Contents (files)
 - Dependencies
 - References
 - Framework Assemblies
 - Owners*

*Owners can be changed using the existing ‘Manage Owners’ functionality on nuget.org. The `<owners>` section of the nuspec file is ignored when using nuget.org.

**How will the editing happen?**

In order to limit what edits can happen to ones which will not introduce breaking changes to package consumers, the way editing will work is that you will need to log in to the nuget.org website. Once you are logged on, a package owner can see a link to ‘Edit Package’ on the package’s page. [Note - an Edit Package page exists before this change - it just doesn't let you edit the package!] 

On the edit package page you can choose which version of your package to edit.  It is easiest to edit the latest version of your package. The latest version of the package is more important because that version's description, summary, title, and icon URL are visible in package search results. After editing your package, you click ‘Save’, and you are done, but the server is still going to be doing some background processing to finalize the edit before it will be visible to everyone.

When a package description is edited, a new nupkg file will be generated by the nuget.org servers. The new nupkg file will contain the exact same old contents as the original package, but modified to contain the new description in the .nuspec file.

The original nupkg file will be retained as a backup in blob storage somewhere. The new nupkg file *will* overwrite the old nupkg file in blob storage, so that the most current nupkg continues to have a predictable URL.

Nuget.org will think of the different edited versions of the package internally as something like
‘MyPackage, v1.0.0’ (original),
‘MyPackage, v1.0.0, Edit #1’, 
‘MyPackage, v1.0.0, Edit #2’

**How will people see the changes to package metadata?**

Once the new .nupkg is generated, the updated package description will be visible in several ways:
1)	Browsing nuget.org - nuget.org will always show you the latest edit of the package description
2)	Searching for Online packages using the NuGet VS extension – again, you will always see the latest edit of the package description
3)	Installing, reinstalling or updating the package to a newer version (any time the client doesn’t already have the package installed, the newest version of the package will be retrieved from nuget.org)

The old package description will not be visible.

**When I do 'Update All' packages using NuGet VS extension, will ‘edits’ of a package appear to be updates to the installed package?**

No, because the package version number does not get changed by the edit.

**Will package owners be able to see the ‘edit history’ of their package?**

Nuget.org will maintain a history all edits of a particular package version. We will eventually add the capability for package owners and site admins to see the edit history of a package. 

**Will the entire edit history be visible to everyone (like wiki page histories)?**

No, we don't currently see that as useful and desirable.

**Will my packages.config or my packages folder, etc, show the Edit number anywhere?**

No.

**Will changing package ownership be a metadata edit?**

No. As per now, you can change a package’s owner on nuget.org at any time. However, edits to package ownership will still not be reflected in downloaded .nupkg files. This may be a controversial decision, in fact, there’s already a bug filed for this, but there are several problems that can occur in this scenario, so we leave it out of scope for now.

**Are there any future possible features which we worry about when we design editable metadata?**

Yes.
 - We would like to have a way to fix bad dependency specifications. However, our latest thinking is that for compatibility concerns the fix may need to take a different form from editing metadata.
 - We would probably like to support author-signed packages in the future. Packages with edited metadata generated are obviously not going to be author-signed, if they are generated by nuget.org. We therefore might need to allow a second way of editing package metadata where you download the .nupkg, make edits to the .nuspec locally, and re-upload the modified nupkg, to support author-signed package edits. We would rather give you a nice experience for editing your package on the web first though, since a) we can, and b) we don’t have the signing feature yet!
